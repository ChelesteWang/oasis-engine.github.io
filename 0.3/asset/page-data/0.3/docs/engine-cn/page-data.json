{"componentChunkName":"component---src-templates-docs-tsx","path":"/0.3/docs/engine-cn","result":{"data":{"markdownRemark":{"html":"<p>Engine 在 Oasis 引擎中扮演着总控制器的角色，他能够控制画布（支持跨平台）的一切行为，包括<a href=\"$%7Bbook.manual%7Dresource/resource-manager\">资源管理</a>、<a href=\"$%7Bbook.manual%7Dstructure/scene\">场景管理</a>、执行/暂停/继续、垂直同步等功能。</p>\n<h2 id=\"初始化\" style=\"position:relative;\"><a href=\"#%E5%88%9D%E5%A7%8B%E5%8C%96\" aria-label=\"初始化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>初始化</h2>\n<p>初始化 Engine 需要提供 <em>Canvas</em> 和 <em>HardwareRenderer</em> :</p>\n<h3 id=\"canvas\" style=\"position:relative;\"><a href=\"#canvas\" aria-label=\"canvas permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Canvas</h3>\n<p>Oasis 引擎包装了不同平台的画布，如 <a href=\"$%7Bbook.api%7Dclasses/rhi_webgl.webcanvas.html\">WebCanvas</a> 支持用 <a href=\"$%7Bbook.api%7Dclasses/core.engine.html\">Engine</a> 控制 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement\">HTMLCanvasElement</a> 或者 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas\">OffscreenCanvas</a> 。如何进行 Canvas 的屏幕适配请看<a href=\"$%7Bbook.manual%7Dstructure/screen-fit\">这里</a>。</p>\n<h3 id=\"hardwarerenderer\" style=\"position:relative;\"><a href=\"#hardwarerenderer\" aria-label=\"hardwarerenderer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HardwareRenderer</h3>\n<p>Oasis 引擎封装了硬件渲染层，将不同平台的渲染能力统一管理，还可以通过 <a href=\"$%7Bbook.api%7Dinterfaces/core.hardwarerenderer.html\">HardwareRenderer</a> 的构造函数，传入支持的配置来控制不同平台的渲染能力。</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> webCanvas <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebCanvas</span><span class=\"token punctuation\">(</span>canvas<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> webGLRenderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebGLRenderer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> engine <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Engine</span><span class=\"token punctuation\">(</span>webCanvas<span class=\"token punctuation\">,</span>webGLRenderer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>为了方便用户直接创建 web 端 engine，Oasis 提供了 <a href=\"$%7Bbook.api%7Dclasses/rhi_webgl.webglengine.html\">WebGLEngine</a> ：</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> engine <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebGLEngine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"属性\" style=\"position:relative;\"><a href=\"#%E5%B1%9E%E6%80%A7\" aria-label=\"属性 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>属性</h2>\n<table>\n<thead>\n<tr>\n<th>属性名称</th>\n<th>属性释义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"$%7Bbook.api%7Dclasses/core.engine.html#vsynccount\">vSyncCount</a></td>\n<td>引擎默认开启<a href=\"https://baike.baidu.com/item/%E5%9E%82%E7%9B%B4%E5%90%8C%E6%AD%A5/7263524?fromtitle=V-Sync&#x26;fromid=691778\">垂直同步</a>且刷新率 <code>vSyncCount</code>  为<code>1</code>，即与屏幕刷新率保持一致。如果 <code>vSyncCount</code> 设置为<code>2</code>，则每刷新 2 帧，引擎更新一次。</td>\n</tr>\n<tr>\n<td><a href=\"$%7Bbook.api%7Dclasses/core.engine.html#resourcemanager\">resourceManager</a></td>\n<td>资源管理</td>\n</tr>\n<tr>\n<td><a href=\"$%7Bbooki.api%7Dclasses/core.engine.html#scenemanager\">sceneManager</a></td>\n<td>场景管理。<em>Engine</em> 是总控制器，<em>Scene</em> 作为场景单元，可以方便大型场景的实体管理；<em>Camera</em> 作为组件挂载在 <em>Scene</em> 中的某一实体下，和现实中的摄像机一样，可以选择拍摄 <em>Scene</em> 中的任何实体 ，最后渲染到屏幕上的一块区域或者离屏渲染。</td>\n</tr>\n</tbody>\n</table>\n<p>如果用户使用 Oasis Engine 制作 FPS 等高速游戏，可能会遇到画面撕裂，碰撞检测不精确等结果，这是因为 <em>Engine</em> 的刷新速度跟不上屏幕刷新速度。用户可以关闭垂直同步，即将 <a href=\"$%7Bbook.api%7Dclasses/core.engine.html#vsynccount\">vSyncCount</a> 设置为 0，然后设置 <a href=\"$%7Bbook.api%7Dclasses/core.engine.html#targetframerate\">targetFrameRate</a>  为期望的帧数值，如 120 表示 120 帧，即每秒刷新 120 次。</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// 垂直同步</span>\nengine<span class=\"token punctuation\">.</span>vSyncCount <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\nengine<span class=\"token punctuation\">.</span>vSyncCount <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 非垂直同步</span>\nengine<span class=\"token punctuation\">.</span>vSyncCount <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\nengine<span class=\"token punctuation\">.</span>targetFrameRate <span class=\"token operator\">=</span> <span class=\"token number\">120</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"方法\" style=\"position:relative;\"><a href=\"#%E6%96%B9%E6%B3%95\" aria-label=\"方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>方法</h2>\n<table>\n<thead>\n<tr>\n<th>属性名称</th>\n<th>属性释义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>run</td>\n<td>执行</td>\n</tr>\n<tr>\n<td>pause</td>\n<td>暂停</td>\n</tr>\n<tr>\n<td>resume</td>\n<td>继续</td>\n</tr>\n</tbody>\n</table>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Engine 在 Oasis 引擎中扮演着总控制器的角色，他能够控制画布（支持跨平台）的一切行为，包括"},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.manual%7Dresource/resource-manager"},"children":[{"type":"text","value":"资源管理"}]},{"type":"text","value":"、"},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.manual%7Dstructure/scene"},"children":[{"type":"text","value":"场景管理"}]},{"type":"text","value":"、执行/暂停/继续、垂直同步等功能。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"初始化","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E5%88%9D%E5%A7%8B%E5%8C%96","ariaLabel":"初始化 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"初始化"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"初始化 Engine 需要提供 "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Canvas"}]},{"type":"text","value":" 和 "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"HardwareRenderer"}]},{"type":"text","value":" :"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"canvas","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#canvas","ariaLabel":"canvas permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Canvas"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Oasis 引擎包装了不同平台的画布，如 "},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/rhi_webgl.webcanvas.html"},"children":[{"type":"text","value":"WebCanvas"}]},{"type":"text","value":" 支持用 "},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.engine.html"},"children":[{"type":"text","value":"Engine"}]},{"type":"text","value":" 控制 "},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement"},"children":[{"type":"text","value":"HTMLCanvasElement"}]},{"type":"text","value":" 或者 "},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas"},"children":[{"type":"text","value":"OffscreenCanvas"}]},{"type":"text","value":" 。如何进行 Canvas 的屏幕适配请看"},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.manual%7Dstructure/screen-fit"},"children":[{"type":"text","value":"这里"}]},{"type":"text","value":"。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"hardwarerenderer","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#hardwarerenderer","ariaLabel":"hardwarerenderer permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"HardwareRenderer"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Oasis 引擎封装了硬件渲染层，将不同平台的渲染能力统一管理，还可以通过 "},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dinterfaces/core.hardwarerenderer.html"},"children":[{"type":"text","value":"HardwareRenderer"}]},{"type":"text","value":" 的构造函数，传入支持的配置来控制不同平台的渲染能力。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"typescript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-typescript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-typescript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" canvas "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" document"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getElementById"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"canvas\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" webCanvas "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"WebCanvas"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"canvas"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" webGLRenderer "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"WebGLRenderer"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" engine "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Engine"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"webCanvas"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"webGLRenderer"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"为了方便用户直接创建 web 端 engine，Oasis 提供了 "},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/rhi_webgl.webglengine.html"},"children":[{"type":"text","value":"WebGLEngine"}]},{"type":"text","value":" ："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"typescript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-typescript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-typescript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" engine "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"WebGLEngine"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"canvas\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"属性","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E5%B1%9E%E6%80%A7","ariaLabel":"属性 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"属性"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"属性名称"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"属性释义"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.engine.html#vsynccount"},"children":[{"type":"text","value":"vSyncCount"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"引擎默认开启"},{"type":"element","tagName":"a","properties":{"href":"https://baike.baidu.com/item/%E5%9E%82%E7%9B%B4%E5%90%8C%E6%AD%A5/7263524?fromtitle=V-Sync&fromid=691778"},"children":[{"type":"text","value":"垂直同步"}]},{"type":"text","value":"且刷新率 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vSyncCount"}]},{"type":"text","value":"  为"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"1"}]},{"type":"text","value":"，即与屏幕刷新率保持一致。如果 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vSyncCount"}]},{"type":"text","value":" 设置为"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"2"}]},{"type":"text","value":"，则每刷新 2 帧，引擎更新一次。"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.engine.html#resourcemanager"},"children":[{"type":"text","value":"resourceManager"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"资源管理"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"$%7Bbooki.api%7Dclasses/core.engine.html#scenemanager"},"children":[{"type":"text","value":"sceneManager"}]}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"场景管理。"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Engine"}]},{"type":"text","value":" 是总控制器，"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Scene"}]},{"type":"text","value":" 作为场景单元，可以方便大型场景的实体管理；"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Camera"}]},{"type":"text","value":" 作为组件挂载在 "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Scene"}]},{"type":"text","value":" 中的某一实体下，和现实中的摄像机一样，可以选择拍摄 "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Scene"}]},{"type":"text","value":" 中的任何实体 ，最后渲染到屏幕上的一块区域或者离屏渲染。"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"如果用户使用 Oasis Engine 制作 FPS 等高速游戏，可能会遇到画面撕裂，碰撞检测不精确等结果，这是因为 "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Engine"}]},{"type":"text","value":" 的刷新速度跟不上屏幕刷新速度。用户可以关闭垂直同步，即将 "},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.engine.html#vsynccount"},"children":[{"type":"text","value":"vSyncCount"}]},{"type":"text","value":" 设置为 0，然后设置 "},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.engine.html#targetframerate"},"children":[{"type":"text","value":"targetFrameRate"}]},{"type":"text","value":"  为期望的帧数值，如 120 表示 120 帧，即每秒刷新 120 次。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"typescript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-typescript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-typescript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 垂直同步"}]},{"type":"text","value":"\nengine"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"vSyncCount "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\nengine"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"vSyncCount "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 非垂直同步"}]},{"type":"text","value":"\nengine"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"vSyncCount "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"0"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\nengine"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"targetFrameRate "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"120"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"方法","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E6%96%B9%E6%B3%95","ariaLabel":"方法 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"方法"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"属性名称"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"属性释义"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"run"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"执行"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"pause"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"暂停"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"resume"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"继续"}]}]}]}]}],"data":{"quirksMode":false}},"tableOfContents":"<ul>\n<li>\n<p><a href=\"/docs/engine-cn/#%E5%88%9D%E5%A7%8B%E5%8C%96\">初始化</a></p>\n<ul>\n<li><a href=\"/docs/engine-cn/#canvas\">Canvas</a></li>\n<li><a href=\"/docs/engine-cn/#hardwarerenderer\">HardwareRenderer</a></li>\n</ul>\n</li>\n<li><a href=\"/docs/engine-cn/#%E5%B1%9E%E6%80%A7\">属性</a></li>\n<li><a href=\"/docs/engine-cn/#%E6%96%B9%E6%B3%95\">方法</a></li>\n</ul>","frontmatter":{"title":"引擎","order":1,"type":"核心"},"fields":{"path":"/docs/engine.zh-CN.md","slug":"/docs/engine-cn","modifiedTime":1620457782397,"avatarList":"[]"}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":"图片显示","order":11,"type":"组件","time":null},"fields":{"slug":"/docs/sprite-renderer-cn","path":"/docs/sprite-renderer.zh-CN.md"}}},{"node":{"frontmatter":{"title":"射线投射","order":10,"type":"组件","time":null},"fields":{"slug":"/docs/ray-cn","path":"/docs/ray.zh-CN.md"}}},{"node":{"frontmatter":{"title":"碰撞检测","order":9,"type":"组件","time":null},"fields":{"slug":"/docs/collision-cn","path":"/docs/collision.zh-CN.md"}}},{"node":{"frontmatter":{"title":"粒子动画","order":8,"type":"组件","time":null},"fields":{"slug":"/docs/particle-renderer-cn","path":"/docs/particle-renderer.zh-CN.md"}}},{"node":{"frontmatter":{"title":"骨骼动画","order":7,"type":"组件","time":null},"fields":{"slug":"/docs/skeletal-animation-cn","path":"/docs/skeletal-animation.zh-CN.md"}}},{"node":{"frontmatter":{"title":"迁移 antd@4 指南","order":6,"type":"Blog","time":"2020-01-16T00:00:00.000Z"},"fields":{"slug":"/blog/antd-4.0-cn","path":"/blog/antd-4.0.zh-CN.md"}}},{"node":{"frontmatter":{"title":"脚本组件","order":6,"type":"组件","time":null},"fields":{"slug":"/docs/script-cn","path":"/docs/script.zh-CN.md"}}},{"node":{"frontmatter":{"title":"克隆","order":5,"type":"核心","time":null},"fields":{"slug":"/docs/entity-clone-cn","path":"/docs/entity-clone.zh-CN.md"}}},{"node":{"frontmatter":{"title":"基础几何体渲染器","order":5,"type":"组件","time":null},"fields":{"slug":"/docs/basic-geometry-cn","path":"/docs/basic-geometry.zh-CN.md"}}},{"node":{"frontmatter":{"title":"实体","order":4,"type":"核心","time":null},"fields":{"slug":"/docs/entity-cn","path":"/docs/entity.zh-CN.md"}}},{"node":{"frontmatter":{"title":"自定义几何体渲染器","order":4,"type":"组件","time":null},"fields":{"slug":"/docs/geometry-renderer-cn","path":"/docs/geometry-renderer.zh-CN.md"}}},{"node":{"frontmatter":{"title":"自定义材质","order":4,"type":"资源系统","time":null},"fields":{"slug":"/docs/custom-material-cn","path":"/docs/custom-material.zh-CN.md"}}},{"node":{"frontmatter":{"title":"事件系统","order":3,"type":"工具库","time":null},"fields":{"slug":"/docs/event-cn","path":"/docs/event.zh-CN.md"}}},{"node":{"frontmatter":{"title":"场景","order":3,"type":"核心","time":null},"fields":{"slug":"/docs/scene-cn","path":"/docs/scene.zh-CN.md"}}},{"node":{"frontmatter":{"title":"灯光","order":3,"type":"组件","time":null},"fields":{"slug":"/docs/light-cn","path":"/docs/light.zh-CN.md"}}},{"node":{"frontmatter":{"title":"材质","order":3,"type":"资源系统","time":null},"fields":{"slug":"/docs/material-cn","path":"/docs/material.zh-CN.md"}}},{"node":{"frontmatter":{"title":"帧缓冲拾取","order":2,"type":"二方库","time":null},"fields":{"slug":"/docs/framebuffer-picker-cn","path":"/docs/framebuffer-picker.zh-CN.md"}}},{"node":{"frontmatter":{"title":"绘制一个 3D 模型","order":2,"type":"入门","time":null},"fields":{"slug":"/docs/model-cn","path":"/docs/model.zh-CN.md"}}},{"node":{"frontmatter":{"title":"引擎状态面板","order":2,"type":"工具库","time":null},"fields":{"slug":"/docs/stats-cn","path":"/docs/stats.zh-CN.md"}}},{"node":{"frontmatter":{"title":"屏幕适配","order":2,"type":"核心","time":null},"fields":{"slug":"/docs/screen-fit-cn","path":"/docs/screen-fit.zh-CN.md"}}},{"node":{"frontmatter":{"title":"相机","order":2,"type":"组件","time":null},"fields":{"slug":"/docs/camera-cn","path":"/docs/camera.zh-CN.md"}}},{"node":{"frontmatter":{"title":"纹理资源","order":2,"type":"资源系统","time":null},"fields":{"slug":"/docs/texture-cn","path":"/docs/texture.zh-CN.md"}}},{"node":{"frontmatter":{"title":"控制器","order":1,"type":"二方库","time":null},"fields":{"slug":"/docs/controls-cn","path":"/docs/controls.zh-CN.md"}}},{"node":{"frontmatter":{"title":"绘制一个立方体","order":1,"type":"入门","time":null},"fields":{"slug":"/docs/cube-cn","path":"/docs/cube.zh-CN.md"}}},{"node":{"frontmatter":{"title":"数学库","order":1,"type":"工具库","time":null},"fields":{"slug":"/docs/math-cn","path":"/docs/math.zh-CN.md"}}},{"node":{"frontmatter":{"title":"引擎","order":1,"type":"核心","time":null},"fields":{"slug":"/docs/engine-cn","path":"/docs/engine.zh-CN.md"}}},{"node":{"frontmatter":{"title":"变换组件","order":1,"type":"组件","time":null},"fields":{"slug":"/docs/transform-cn","path":"/docs/transform.zh-CN.md"}}},{"node":{"frontmatter":{"title":"资源管理与加载","order":1,"type":"资源系统","time":null},"fields":{"slug":"/docs/resource-manager-cn","path":"/docs/resource-manager.zh-CN.md"}}}]}},"pageContext":{"slug":"/docs/engine-cn","type":"/docs/","locale":"/-cn/"}},"staticQueryHashes":[]}