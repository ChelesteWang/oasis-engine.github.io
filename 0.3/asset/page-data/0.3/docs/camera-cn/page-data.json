{"componentChunkName":"component---src-templates-docs-tsx","path":"/0.3/docs/camera-cn","result":{"data":{"markdownRemark":{"html":"<p>相机是一个图形引擎对 <a href=\"https://en.wikipedia.org/wiki/3D_projection\">3D 投影</a>的抽象概念，作用好比现实世界中的摄像机或眼镜。</p>\n<h2 id=\"基本用法\" style=\"position:relative;\"><a href=\"#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95\" aria-label=\"基本用法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>基本用法</h2>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// 创建实体</span>\n<span class=\"token keyword\">const</span> entity <span class=\"token operator\">=</span> root<span class=\"token punctuation\">.</span><span class=\"token function\">createChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cameraEntity'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 创建相机组件</span>\n<span class=\"token keyword\">const</span> camera <span class=\"token operator\">=</span> entity<span class=\"token punctuation\">.</span><span class=\"token function\">addComponent</span><span class=\"token punctuation\">(</span>Camera<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 设置透视投影属性</span>\ncamera<span class=\"token punctuation\">.</span>nearClipPlane <span class=\"token operator\">=</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span>farClipPlane <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span>fieldOfView <span class=\"token operator\">=</span> <span class=\"token number\">60</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vector4</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 通过 entity 获取相机</span>\nentity<span class=\"token punctuation\">.</span>engine<span class=\"token punctuation\">.</span>sceneManager<span class=\"token punctuation\">.</span>activeScene<span class=\"token punctuation\">.</span>_activeCameras<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h2 id=\"属性\" style=\"position:relative;\"><a href=\"#%E5%B1%9E%E6%80%A7\" aria-label=\"属性 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>属性</h2>\n<table>\n<thead>\n<tr>\n<th align=\"left\">类型</th>\n<th align=\"left\">属性</th>\n<th align=\"left\">解释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">通用</td>\n<td align=\"left\"><a href=\"$%7Bbook.api%7Dclasses/core.camera.html#isorthographic\">isOrthographic</a></td>\n<td align=\"left\">是否正交投影，默认是 <code>false</code></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><a href=\"$%7Bbook.api%7Dclasses/core.camera.html#aspectratio\">aspectRatio</a></td>\n<td align=\"left\">画布宽高比，一般是根据 canvas 大小自动计算，也可以手动改变（不推荐）</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><a href=\"$%7Bbook.api%7Dclasses/core.camera.html#cullingmask\">cullingMask</a></td>\n<td align=\"left\">裁剪遮罩，用来选择性地渲染场景中的渲染组件。</td>\n</tr>\n<tr>\n<td align=\"left\">透视投影</td>\n<td align=\"left\"><a href=\"$%7Bbook.api%7Dclasses/core.camera.html#nearclipplane\">nearClipPlane</a></td>\n<td align=\"left\">近裁剪平面</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><a href=\"$%7Bbook.api%7Dclasses/core.camera.html#farclipplane\">farClipPlane</a></td>\n<td align=\"left\">远裁剪平面</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><a href=\"$%7Bbook.api%7Dclasses/core.camera.html#fieldofview\">fieldOfView</a></td>\n<td align=\"left\">视角</td>\n</tr>\n<tr>\n<td align=\"left\">正交投影</td>\n<td align=\"left\"><a href=\"$%7Bbook.api%7Dclasses/core.camera.html#orthographicsize\">orthographicSize</a></td>\n<td align=\"left\">正交模式下相机的一半尺寸</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"类型\" style=\"position:relative;\"><a href=\"#%E7%B1%BB%E5%9E%8B\" aria-label=\"类型 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>类型</h2>\n<p>通过设置 <a href=\"$%7Bbook.api%7Dclasses/core.camera.html#isorthographic\">isOrthographic</a> 来决定采用透视投影或正交投影。</p>\n<h3 id=\"透视投影\" style=\"position:relative;\"><a href=\"#%E9%80%8F%E8%A7%86%E6%8A%95%E5%BD%B1\" aria-label=\"透视投影 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>透视投影</h3>\n<p>透视投影符合我们的近大远小模型，可以看一下透视模型示意图：</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_d27172/afts/img/A*isMHSpe21ZMAAAAAAAAAAAAAARQnAQ\" alt=\"image.png\"></p>\n<p>根据上图可以看出，近裁剪平面（<a href=\"$%7Bbook.api%7Dclasses/core.camera.html#nearclipplane\">nearClipPlane</a>），远裁剪平面（<a href=\"$%7Bbook.api%7Dclasses/core.camera.html#farclipplane\">farClipPlane</a>）和 视角（<a href=\"$%7Bbook.api%7Dclasses/core.camera.html#fieldofview\">fieldOfView</a>） 会形成一个视椎体 (<a href=\"https://en.wikipedia.org/wiki/Viewing_frustum\"><em>View Frustum</em></a>)。在视椎体内部的物体是会被投影到摄像机里的，也就是会渲染在画布上，而视椎体外的物体则会被裁剪。</p>\n<h3 id=\"正交投影\" style=\"position:relative;\"><a href=\"#%E6%AD%A3%E4%BA%A4%E6%8A%95%E5%BD%B1\" aria-label=\"正交投影 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>正交投影</h3>\n<p>正交投影就是可视区近处和远处看到的物体是等大小的。由正交投影模型产生的可视区称为盒状可视区，盒状可视区模型如下：</p>\n<p><img src=\"https://gw.alipayobjects.com/mdn/rms_d27172/afts/img/A*KEuGSqX-vXsAAAAAAAAAAAAAARQnAQ\" alt=\"image.png\"></p>\n<p>如上图所示，有 top、bottom、left 和 right，Oasis 对正交属性做了一些简化，更符合开发者的使用习惯，只有 <a href=\"$%7Bbook.api%7Dclasses/core.camera.html#orthographicsize\">orthographicSize</a>（正交模式下相机的一半尺寸）。下面是针对各项属性和 <a href=\"$%7Bbook.api%7Dclasses/core.camera.html#orthographicsize\">orthographicSize</a> 的关系</p>\n<ul>\n<li><code>top = orthographicSize</code></li>\n<li><code>bottom = -orthographicSize</code></li>\n<li><code>right = orthographicSize * aspectRatio</code></li>\n<li><code>left = -orthographicSize * aspectRatio</code></li>\n</ul>\n<p>详情请查看 <a href=\"$%7Bbook.api%7Dclasses/core.camera.html\">API 文档</a>。</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"相机是一个图形引擎对 "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/3D_projection"},"children":[{"type":"text","value":"3D 投影"}]},{"type":"text","value":"的抽象概念，作用好比现实世界中的摄像机或眼镜。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"基本用法","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95","ariaLabel":"基本用法 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"基本用法"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"typescript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-typescript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-typescript"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 创建实体"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" entity "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" root"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"createChild"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'cameraEntity'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 创建相机组件"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" camera "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" entity"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"addComponent"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"Camera"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 设置透视投影属性"}]},{"type":"text","value":"\ncamera"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"nearClipPlane "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"0.1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\ncamera"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"farClipPlane "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"100"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\ncamera"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"fieldOfView "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"60"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\ncamera"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"backgroundColor "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Vector4"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 通过 entity 获取相机"}]},{"type":"text","value":"\nentity"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"engine"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"sceneManager"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"activeScene"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"_activeCameras"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"0"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"属性","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E5%B1%9E%E6%80%A7","ariaLabel":"属性 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"属性"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"类型"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"属性"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"解释"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"通用"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#isorthographic"},"children":[{"type":"text","value":"isOrthographic"}]}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"是否正交投影，默认是 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"false"}]}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#aspectratio"},"children":[{"type":"text","value":"aspectRatio"}]}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"画布宽高比，一般是根据 canvas 大小自动计算，也可以手动改变（不推荐）"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#cullingmask"},"children":[{"type":"text","value":"cullingMask"}]}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"裁剪遮罩，用来选择性地渲染场景中的渲染组件。"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"透视投影"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#nearclipplane"},"children":[{"type":"text","value":"nearClipPlane"}]}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"近裁剪平面"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#farclipplane"},"children":[{"type":"text","value":"farClipPlane"}]}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"远裁剪平面"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#fieldofview"},"children":[{"type":"text","value":"fieldOfView"}]}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"视角"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"正交投影"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#orthographicsize"},"children":[{"type":"text","value":"orthographicSize"}]}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"正交模式下相机的一半尺寸"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"类型","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E7%B1%BB%E5%9E%8B","ariaLabel":"类型 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"类型"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"通过设置 "},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#isorthographic"},"children":[{"type":"text","value":"isOrthographic"}]},{"type":"text","value":" 来决定采用透视投影或正交投影。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"透视投影","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E9%80%8F%E8%A7%86%E6%8A%95%E5%BD%B1","ariaLabel":"透视投影 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"透视投影"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"透视投影符合我们的近大远小模型，可以看一下透视模型示意图："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://gw.alipayobjects.com/mdn/rms_d27172/afts/img/A*isMHSpe21ZMAAAAAAAAAAAAAARQnAQ","alt":"image.png"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"根据上图可以看出，近裁剪平面（"},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#nearclipplane"},"children":[{"type":"text","value":"nearClipPlane"}]},{"type":"text","value":"），远裁剪平面（"},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#farclipplane"},"children":[{"type":"text","value":"farClipPlane"}]},{"type":"text","value":"）和 视角（"},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#fieldofview"},"children":[{"type":"text","value":"fieldOfView"}]},{"type":"text","value":"） 会形成一个视椎体 ("},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Viewing_frustum"},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"View Frustum"}]}]},{"type":"text","value":")。在视椎体内部的物体是会被投影到摄像机里的，也就是会渲染在画布上，而视椎体外的物体则会被裁剪。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"正交投影","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#%E6%AD%A3%E4%BA%A4%E6%8A%95%E5%BD%B1","ariaLabel":"正交投影 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"正交投影"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"正交投影就是可视区近处和远处看到的物体是等大小的。由正交投影模型产生的可视区称为盒状可视区，盒状可视区模型如下："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://gw.alipayobjects.com/mdn/rms_d27172/afts/img/A*KEuGSqX-vXsAAAAAAAAAAAAAARQnAQ","alt":"image.png"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"如上图所示，有 top、bottom、left 和 right，Oasis 对正交属性做了一些简化，更符合开发者的使用习惯，只有 "},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#orthographicsize"},"children":[{"type":"text","value":"orthographicSize"}]},{"type":"text","value":"（正交模式下相机的一半尺寸）。下面是针对各项属性和 "},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html#orthographicsize"},"children":[{"type":"text","value":"orthographicSize"}]},{"type":"text","value":" 的关系"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"top = orthographicSize"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"bottom = -orthographicSize"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"right = orthographicSize * aspectRatio"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"left = -orthographicSize * aspectRatio"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"详情请查看 "},{"type":"element","tagName":"a","properties":{"href":"$%7Bbook.api%7Dclasses/core.camera.html"},"children":[{"type":"text","value":"API 文档"}]},{"type":"text","value":"。"}]}],"data":{"quirksMode":false}},"tableOfContents":"<ul>\n<li><a href=\"/docs/camera-cn/#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95\">基本用法</a></li>\n<li><a href=\"/docs/camera-cn/#%E5%B1%9E%E6%80%A7\">属性</a></li>\n<li>\n<p><a href=\"/docs/camera-cn/#%E7%B1%BB%E5%9E%8B\">类型</a></p>\n<ul>\n<li><a href=\"/docs/camera-cn/#%E9%80%8F%E8%A7%86%E6%8A%95%E5%BD%B1\">透视投影</a></li>\n<li><a href=\"/docs/camera-cn/#%E6%AD%A3%E4%BA%A4%E6%8A%95%E5%BD%B1\">正交投影</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"相机","order":2,"type":"组件"},"fields":{"path":"/docs/camera.zh-CN.md","slug":"/docs/camera-cn","modifiedTime":1620457782394,"avatarList":"[]"}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":"图片显示","order":11,"type":"组件","time":null},"fields":{"slug":"/docs/sprite-renderer-cn","path":"/docs/sprite-renderer.zh-CN.md"}}},{"node":{"frontmatter":{"title":"射线投射","order":10,"type":"组件","time":null},"fields":{"slug":"/docs/ray-cn","path":"/docs/ray.zh-CN.md"}}},{"node":{"frontmatter":{"title":"碰撞检测","order":9,"type":"组件","time":null},"fields":{"slug":"/docs/collision-cn","path":"/docs/collision.zh-CN.md"}}},{"node":{"frontmatter":{"title":"粒子动画","order":8,"type":"组件","time":null},"fields":{"slug":"/docs/particle-renderer-cn","path":"/docs/particle-renderer.zh-CN.md"}}},{"node":{"frontmatter":{"title":"骨骼动画","order":7,"type":"组件","time":null},"fields":{"slug":"/docs/skeletal-animation-cn","path":"/docs/skeletal-animation.zh-CN.md"}}},{"node":{"frontmatter":{"title":"迁移 antd@4 指南","order":6,"type":"Blog","time":"2020-01-16T00:00:00.000Z"},"fields":{"slug":"/blog/antd-4.0-cn","path":"/blog/antd-4.0.zh-CN.md"}}},{"node":{"frontmatter":{"title":"脚本组件","order":6,"type":"组件","time":null},"fields":{"slug":"/docs/script-cn","path":"/docs/script.zh-CN.md"}}},{"node":{"frontmatter":{"title":"克隆","order":5,"type":"核心","time":null},"fields":{"slug":"/docs/entity-clone-cn","path":"/docs/entity-clone.zh-CN.md"}}},{"node":{"frontmatter":{"title":"基础几何体渲染器","order":5,"type":"组件","time":null},"fields":{"slug":"/docs/basic-geometry-cn","path":"/docs/basic-geometry.zh-CN.md"}}},{"node":{"frontmatter":{"title":"实体","order":4,"type":"核心","time":null},"fields":{"slug":"/docs/entity-cn","path":"/docs/entity.zh-CN.md"}}},{"node":{"frontmatter":{"title":"自定义几何体渲染器","order":4,"type":"组件","time":null},"fields":{"slug":"/docs/geometry-renderer-cn","path":"/docs/geometry-renderer.zh-CN.md"}}},{"node":{"frontmatter":{"title":"自定义材质","order":4,"type":"资源系统","time":null},"fields":{"slug":"/docs/custom-material-cn","path":"/docs/custom-material.zh-CN.md"}}},{"node":{"frontmatter":{"title":"事件系统","order":3,"type":"工具库","time":null},"fields":{"slug":"/docs/event-cn","path":"/docs/event.zh-CN.md"}}},{"node":{"frontmatter":{"title":"场景","order":3,"type":"核心","time":null},"fields":{"slug":"/docs/scene-cn","path":"/docs/scene.zh-CN.md"}}},{"node":{"frontmatter":{"title":"灯光","order":3,"type":"组件","time":null},"fields":{"slug":"/docs/light-cn","path":"/docs/light.zh-CN.md"}}},{"node":{"frontmatter":{"title":"材质","order":3,"type":"资源系统","time":null},"fields":{"slug":"/docs/material-cn","path":"/docs/material.zh-CN.md"}}},{"node":{"frontmatter":{"title":"帧缓冲拾取","order":2,"type":"二方库","time":null},"fields":{"slug":"/docs/framebuffer-picker-cn","path":"/docs/framebuffer-picker.zh-CN.md"}}},{"node":{"frontmatter":{"title":"绘制一个 3D 模型","order":2,"type":"入门","time":null},"fields":{"slug":"/docs/model-cn","path":"/docs/model.zh-CN.md"}}},{"node":{"frontmatter":{"title":"引擎状态面板","order":2,"type":"工具库","time":null},"fields":{"slug":"/docs/stats-cn","path":"/docs/stats.zh-CN.md"}}},{"node":{"frontmatter":{"title":"屏幕适配","order":2,"type":"核心","time":null},"fields":{"slug":"/docs/screen-fit-cn","path":"/docs/screen-fit.zh-CN.md"}}},{"node":{"frontmatter":{"title":"相机","order":2,"type":"组件","time":null},"fields":{"slug":"/docs/camera-cn","path":"/docs/camera.zh-CN.md"}}},{"node":{"frontmatter":{"title":"纹理资源","order":2,"type":"资源系统","time":null},"fields":{"slug":"/docs/texture-cn","path":"/docs/texture.zh-CN.md"}}},{"node":{"frontmatter":{"title":"控制器","order":1,"type":"二方库","time":null},"fields":{"slug":"/docs/controls-cn","path":"/docs/controls.zh-CN.md"}}},{"node":{"frontmatter":{"title":"绘制一个立方体","order":1,"type":"入门","time":null},"fields":{"slug":"/docs/cube-cn","path":"/docs/cube.zh-CN.md"}}},{"node":{"frontmatter":{"title":"数学库","order":1,"type":"工具库","time":null},"fields":{"slug":"/docs/math-cn","path":"/docs/math.zh-CN.md"}}},{"node":{"frontmatter":{"title":"引擎","order":1,"type":"核心","time":null},"fields":{"slug":"/docs/engine-cn","path":"/docs/engine.zh-CN.md"}}},{"node":{"frontmatter":{"title":"变换组件","order":1,"type":"组件","time":null},"fields":{"slug":"/docs/transform-cn","path":"/docs/transform.zh-CN.md"}}},{"node":{"frontmatter":{"title":"资源管理与加载","order":1,"type":"资源系统","time":null},"fields":{"slug":"/docs/resource-manager-cn","path":"/docs/resource-manager.zh-CN.md"}}}]}},"pageContext":{"slug":"/docs/camera-cn","type":"/docs/","locale":"/-cn/"}},"staticQueryHashes":[]}